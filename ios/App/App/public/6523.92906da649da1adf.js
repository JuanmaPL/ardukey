"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6523],{76:(_,h,s)=>{s.d(h,{GW:()=>m,dk:()=>o,oK:()=>d});var d=(()=>{return(c=d||(d={})).Prompt="PROMPT",c.Camera="CAMERA",c.Photos="PHOTOS",d;var c})(),m=(()=>{return(c=m||(m={})).Rear="REAR",c.Front="FRONT",m;var c})(),o=(()=>{return(c=o||(o={})).Uri="uri",c.Base64="base64",c.DataUrl="dataUrl",o;var c})()},6523:(_,h,s)=>{s.r(h),s.d(h,{SettingsPageModule:()=>G});var d=s(6895),m=s(433),o=s(8779),c=s(1194),p=s(655),g=s(7423),v=s(76);const S=(0,g.fo)("Camera",{web:()=>s.e(3954).then(s.bind(s,3954)).then(r=>new r.CameraWeb)}),y=(0,g.fo)("Geolocation",{web:()=>s.e(4561).then(s.bind(s,4561)).then(r=>new r.GeolocationWeb)});var e=s(4650),b=s(7709),C=s(1343);function A(r,l){if(1&r&&e.\u0275\u0275element(0,"img",19),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.preview,e.\u0275\u0275sanitizeUrl)}}function E(r,l){1&r&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"Pulse para introducir foto"),e.\u0275\u0275elementEnd())}function M(r,l){if(1&r&&(e.\u0275\u0275elementStart(0,"ion-select-option",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=l.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.data.CODIGO)}}let I=(()=>{class r{constructor(t,n,i){this.modalCtrl=t,this.img=n,this.firestoreService=i,this.coleccionCerraduras=[{id:"",data:{}}],this.coleccionCerraduras1=[{id:"",data:{}}],this.coleccionApartamentos=[{id:"",data:{}}],this.uid=localStorage.getItem("uid"),this.apartamento={},this.cerradura={},this.coleccionCerraduras1=[],this.coleccionApartamentos=[]}ngOnInit(){this.obtenerSitio(),this.obtenerCerraduras(),this.control||this.apartamentoId(this.id)}obtenerCerraduras(){this.firestoreService.consultarPorCampo("cerraduras","ACTIVA",!1).subscribe(t=>{this.coleccionCerraduras=[],t.forEach(n=>{this.coleccionCerraduras.push({id:n.payload.doc.id,data:n.payload.doc.data()}),console.log(this.coleccionCerraduras)})})}apartamentoId(t){this.firestoreService.consultarPorId("apartamentos",t).subscribe(n=>{n.exists?(this.coleccionApartamentos.id1=n.id,this.coleccionApartamentos.data=n.data(),this.descripcion=this.coleccionApartamentos.data.DESCRIPCION,this.direccion=this.coleccionApartamentos.data.DIRECCION,this.estado=this.coleccionApartamentos.data.ESTADO,this.preview=this.img.getImage(this.coleccionApartamentos.data.IMG),this.foto=this.coleccionApartamentos.data.IMG,this.idkey1=this.coleccionApartamentos.data.IDKEY,this.idkey=" ",this.lat=this.coleccionApartamentos.data.LAT,this.lon=this.coleccionApartamentos.data.LON,console.log(this.idkey1)):this.coleccionApartamentos.data={}})}cerraduraPorId(t){this.firestoreService.consultarPorId("cerraduras",t).subscribe(n=>{n.exists?(this.coleccionCerraduras1.id=n.id,this.coleccionCerraduras1.data=n.data(),this.cerradura.ACTIVA=!this.coleccionCerraduras1.data.ACTIVA,this.cerradura.CODIGO=this.coleccionCerraduras1.data.CODIGO,this.firestoreService.actualizar("cerraduras",t,this.cerradura)):this.coleccionCerraduras1.data={}})}sacarFoto(){return(0,p.mG)(this,void 0,void 0,function*(){try{const t=yield S.getPhoto({quality:100,height:400,width:600,allowEditing:!1,saveToGallery:!0,resultType:v.dk.Base64});this.foto="data:image/png;base64,"+t.base64String,this.preview=this.img.getImage(this.foto)}catch(t){console.error("error en cath"+t)}})}obtenerSitio(){return(0,p.mG)(this,void 0,void 0,function*(){this.position=yield y.getCurrentPosition(),console.log("latitud: "+this.position.coords.latitude,"longitud: "+this.position.coords.longitude),this.lat=this.position.coords.latitude,this.lon=this.position.coords.longitude})}insertar(){this.apartamento={LAT:this.lat,LON:this.lon,DESCRIPCION:this.descripcion,DIRECCION:this.direccion,ESTADO:this.estado,IDKEY:this.idkey,IMG:this.foto},this.cerraduraPorId(this.idkey),this.firestoreService.insertar("apartamentos",this.apartamento).then(()=>{console.log("Tarea creada correctamente!"),this.apartamento={}},t=>{console.error("Error al insertar: "+t)}),this.cerrar()}actualizar(){" "===this.idkey?this.idkey=this.idkey1:(this.cerraduraPorId(this.idkey),this.cerraduraPorId(this.idkey1)),this.apartamento={LAT:this.lat,LON:this.lon,DESCRIPCION:this.descripcion,DIRECCION:this.direccion,ESTADO:this.estado,IDKEY:this.idkey,IMG:this.foto},this.firestoreService.actualizar("apartamentos",this.id,this.apartamento),this.cerrar()}cerrar(){this.modalCtrl.dismiss()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.ModalController),e.\u0275\u0275directiveInject(b.P),e.\u0275\u0275directiveInject(C.C))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-insertar-apart"]],decls:42,vars:12,consts:[[1,"ion-no-border",3,"translucent"],["slot","end"],["slot","end","shape","round","color","danger","fill","outline","size","small",3,"click"],["shape","round","name","log-out-outline"],["color","primary"],["position","floating"],["placeholder","Nombre",3,"ngModel","ngModelChange"],["placeholder","Direcci\xf3n",3,"ngModel","ngModelChange"],["button","true",3,"click"],[3,"src",4,"ngIf"],[4,"ngIf"],["interface","popover","placeholder","Estado del apartamento falso || true",3,"ngModel","ngModelChange"],["value","no ocupado"],["value","ocupado"],["interface","popover","placeholder","Seleccione cerradura",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Latitud",3,"ngModel","ngModelChange"],["placeholder","longitud",3,"ngModel","ngModelChange"],["shape","round","fill","outline","size","small",3,"disabled","click"],[3,"src"],[3,"value"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.cerrar()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275text(5,"Cerrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"ion-title",4),e.\u0275\u0275text(7," Insertar o Actualizar apartamentos"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"ion-content")(9,"ion-list")(10,"ion-item")(11,"ion-label",5),e.\u0275\u0275text(12,"Descripci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-input",6),e.\u0275\u0275listener("ngModelChange",function(a){return n.descripcion=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"ion-item")(15,"ion-label",5),e.\u0275\u0275text(16,"Direcci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-input",7),e.\u0275\u0275listener("ngModelChange",function(a){return n.direccion=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"ion-item",8),e.\u0275\u0275listener("click",function(){return n.sacarFoto()}),e.\u0275\u0275template(19,A,1,1,"img",9),e.\u0275\u0275template(20,E,2,0,"p",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-item")(22,"ion-select",11),e.\u0275\u0275listener("ngModelChange",function(a){return n.estado=a}),e.\u0275\u0275elementStart(23,"ion-select-option",12),e.\u0275\u0275text(24,"No ocupado"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"ion-select-option",13),e.\u0275\u0275text(26,"Ocupado"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"ion-item")(28,"ion-select",14),e.\u0275\u0275listener("ngModelChange",function(a){return n.idkey=a}),e.\u0275\u0275template(29,M,2,2,"ion-select-option",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"ion-item")(31,"ion-label",5),e.\u0275\u0275text(32,"latitud"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"ion-input",16),e.\u0275\u0275listener("ngModelChange",function(a){return n.lat=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"ion-item")(35,"ion-label",5),e.\u0275\u0275text(36,"Longitud"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"ion-input",17),e.\u0275\u0275listener("ngModelChange",function(a){return n.lon=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"ion-button",18),e.\u0275\u0275listener("click",function(){return n.insertar()}),e.\u0275\u0275text(39,"Insertar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"ion-button",18),e.\u0275\u0275listener("click",function(){return n.actualizar()}),e.\u0275\u0275text(41,"Actualizar"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",n.descripcion),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.direccion),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.foto),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.foto),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.estado),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",n.idkey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.coleccionCerraduras),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.lat),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.lon),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("disabled",!n.control),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("disabled",n.control))},dependencies:[d.NgForOf,d.NgIf,o.IonButton,o.IonButtons,o.IonContent,o.IonHeader,o.IonIcon,o.IonInput,o.IonItem,o.IonLabel,o.IonList,o.IonSelect,o.IonSelectOption,o.IonTitle,o.IonToolbar,o.SelectValueAccessor,o.TextValueAccessor,m.NgControlStatus,m.NgModel]}),r})();function T(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item-sliding")(1,"ion-item-options",8)(2,"ion-item-option",9),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.actualizar(a.id))}),e.\u0275\u0275element(3,"ion-icon",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"ion-item")(5,"ion-grid")(6,"ion-row")(7,"h2"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-row"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"ion-item-options",11)(14,"ion-item-option",12),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.borrar(a.id,a.data.ESTADO,a.data.IDKEY))}),e.\u0275\u0275element(15,"ion-icon",13),e.\u0275\u0275elementEnd()()()}if(2&r){const t=l.$implicit;e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1("Nombre: ",t.data.DESCRIPCION,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Direccion: ",t.data.DIRECCION," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" id: ",t.id," ")}}let O=(()=>{class r{constructor(t,n){this.modalCtrl=t,this.firestoreService=n,this.coleccionApartamentos=[{id:"",data:{}}],this.coleccionCerraduras=[{id:"",data:{}}],this.apartamento={},this.cerradura={}}ngOnInit(){this.obtenerListaApartamentos()}cerrar(){this.modalCtrl.dismiss()}obtenerListaApartamentos(){console.log("dentro de obtener Lista"),this.firestoreService.consultar("apartamentos").subscribe(t=>{this.coleccionApartamentos=[],console.log("dentro de resultadoConsulta"),t.forEach(n=>{this.coleccionApartamentos.push({id:n.payload.doc.id,data:n.payload.doc.data()}),console.log(this.coleccionApartamentos)})})}obtenerIdCerraduras(t,n){this.firestoreService.consultarPorId(n,t).subscribe(i=>{i.exists&&(this.coleccionCerraduras.data=i.data(),this.cerradura.CODIGO=this.coleccionCerraduras.data.CODIGO,this.cerradura.ACTIVA=!this.coleccionCerraduras.data.ACTIVA,console.log(this.cerradura),this.firestoreService.actualizar("cerraduras",t,this.cerradura))})}insertar(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:I,componentProps:{control:!0}})).present()})}actualizar(t){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:I,componentProps:{control:!1,id:t}})).present()})}borrar(t,n,i){"no ocupado"===n&&(this.obtenerIdCerraduras(i,"cerraduras"),this.firestoreService.borrar("apartamentos",t),this.obtenerListaApartamentos())}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.ModalController),e.\u0275\u0275directiveInject(C.C))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-apartamentos"]],decls:14,vars:2,consts:[[1,"ion-no-border",3,"translucent"],["slot","end"],["slot","end","shape","round","color","tertiary","fill","outline","size","small",3,"click"],["slot","end","name","create-outline"],["slot","end","shape","round","color","danger","fill","outline","size","small",3,"click"],["shape","round","name","log-out-outline"],["color","primary"],[4,"ngFor","ngForOf"],["side","start"],["color","success",3,"click"],["slot","icon-only","name","create-outline"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.insertar()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275text(5,"Insertar "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-button",4),e.\u0275\u0275listener("click",function(){return n.cerrar()}),e.\u0275\u0275element(7,"ion-icon",5),e.\u0275\u0275text(8,"Cerrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-title",6),e.\u0275\u0275text(10," CRUD Apartamentos"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"ion-content")(12,"ion-list"),e.\u0275\u0275template(13,T,16,3,"ion-item-sliding",7),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngForOf",n.coleccionApartamentos))},dependencies:[d.NgForOf,o.IonButton,o.IonButtons,o.IonContent,o.IonGrid,o.IonHeader,o.IonIcon,o.IonItem,o.IonItemOption,o.IonItemOptions,o.IonItemSliding,o.IonList,o.IonRow,o.IonTitle,o.IonToolbar]}),r})(),f=(()=>{class r{constructor(t,n){this.modalCtrl=t,this.firestoreService=n,this.code="",this.cerraduraEditando={}}ngOnInit(){this.activa=this.activo?this.activo:"false",this.code=this.codigo}cerrar(){this.modalCtrl.dismiss()}insertar(){this.cerraduraEditando.ACTIVA=!1,this.cerraduraEditando.CODIGO=this.code,this.firestoreService.insertar("cerraduras",this.cerraduraEditando).then(()=>{console.log("Tarea creada correctamente!"),this.cerraduraEditando={}},t=>{console.error(t)})}actualizar(){this.cerraduraEditando.ACTIVA="true"===this.activa,this.cerraduraEditando.CODIGO=this.code,this.firestoreService.actualizar("cerraduras",this.uid,this.cerraduraEditando),this.cerrar()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.ModalController),e.\u0275\u0275directiveInject(C.C))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-insertar-cerrad"]],decls:22,vars:7,consts:[[1,"ion-no-border",3,"translucent"],["slot","end"],["slot","end","shape","round","color","danger","fill","outline","size","small",3,"click"],["shape","round","name","log-out-outline"],["color","primary"],[3,"fullscreen"],[3,"disabled"],["position","floating"],["placeholder","Estado",3,"ngModel","ngModelChange"],["placeholder","Entre C\xf3digo",3,"ngModel","ngModelChange"],["shape","round","fill","outline","size","small",3,"disabled","click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.cerrar()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275text(5,"Cerrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"ion-title",4),e.\u0275\u0275text(7," Insertar o Actualizar cerraduras"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"ion-content",5)(9,"ion-list")(10,"ion-item",6)(11,"ion-label",7),e.\u0275\u0275text(12,"Estado"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-input",8),e.\u0275\u0275listener("ngModelChange",function(a){return n.activa=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"ion-item")(15,"ion-label",7),e.\u0275\u0275text(16,"C\xf3digo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-input",9),e.\u0275\u0275listener("ngModelChange",function(a){return n.code=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"ion-button",10),e.\u0275\u0275listener("click",function(){return n.insertar()}),e.\u0275\u0275text(19,"Insertar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"ion-button",10),e.\u0275\u0275listener("click",function(){return n.actualizar()}),e.\u0275\u0275text(21,"Actualizar"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(8),e.\u0275\u0275property("fullscreen",!0),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("disabled",n.control),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.activa),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.code),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("disabled",!n.control),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("disabled",n.control))},dependencies:[o.IonButton,o.IonButtons,o.IonContent,o.IonHeader,o.IonIcon,o.IonInput,o.IonItem,o.IonLabel,o.IonList,o.IonTitle,o.IonToolbar,o.TextValueAccessor,m.NgControlStatus,m.NgModel],styles:[".myCal[_ngcontent-%COMP%]   button.days-btn.my-day[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .myCal[_ngcontent-%COMP%]   button.days-btn.my-day[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}"]}),r})();function k(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item-sliding")(1,"ion-item-options",8)(2,"ion-item-option",9),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.actualizar(a.data.ACTIVA,a.id,a.data.CODIGO))}),e.\u0275\u0275element(3,"ion-icon",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"ion-item")(5,"ion-grid")(6,"ion-row")(7,"h2"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-row"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"ion-item-options",11)(14,"ion-item-option",12),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.borrar(a.data.ACTIVA,a.id))}),e.\u0275\u0275element(15,"ion-icon",13),e.\u0275\u0275elementEnd()()()}if(2&r){const t=l.$implicit;e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1("Estado: ",t.data.ACTIVA,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Codigo: ",t.data.CODIGO," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" id: ",t.id," ")}}let P=(()=>{class r{constructor(t,n){this.modalCtrl=t,this.firestoreService=n,this.coleccionCerraduras=[{id:"",data:{}}]}ngOnInit(){this.obtenerListaCerraduras()}cerrar(){this.modalCtrl.dismiss()}insertar(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:f,componentProps:{control:!0}})).present()})}obtenerListaCerraduras(){console.log("dentro de obtener Lista"),this.firestoreService.consultar("cerraduras").subscribe(t=>{this.coleccionCerraduras=[],console.log("dentro de resultadoConsulta"),t.forEach(n=>{this.coleccionCerraduras.push({id:n.payload.doc.id,data:n.payload.doc.data()}),console.log(this.coleccionCerraduras)})})}borrar(t,n){t||(this.firestoreService.borrar("cerraduras",n),this.obtenerListaCerraduras())}actualizar(t,n,i){return(0,p.mG)(this,void 0,void 0,function*(){console.log(t,n,i),this.modalCtrl.create({component:f,componentProps:{activo:t,uid:n,codigo:i,control:!1}}).then(a=>(0,p.mG)(this,void 0,void 0,function*(){a.onDidDismiss().then(()=>{this.obtenerListaCerraduras()}),yield a.present()}))})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.ModalController),e.\u0275\u0275directiveInject(C.C))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-cerraduras"]],decls:14,vars:2,consts:[[1,"ion-no-border",3,"translucent"],["slot","end"],["slot","end","shape","round","color","tertiary","fill","outline","size","small",3,"click"],["slot","end","name","create-outline"],["slot","end","shape","round","color","danger","fill","outline","size","small",3,"click"],["shape","round","name","log-out-outline"],["color","primary"],[4,"ngFor","ngForOf"],["side","start"],["color","success",3,"click"],["slot","icon-only","name","create-outline"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.\u0275\u0275listener("click",function(){return n.insertar()}),e.\u0275\u0275element(4,"ion-icon",3),e.\u0275\u0275text(5,"Insertar "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-button",4),e.\u0275\u0275listener("click",function(){return n.cerrar()}),e.\u0275\u0275element(7,"ion-icon",5),e.\u0275\u0275text(8,"Cerrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-title",6),e.\u0275\u0275text(10," CRUD Cerraduras"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"ion-content")(12,"ion-list"),e.\u0275\u0275template(13,k,16,3,"ion-item-sliding",7),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngForOf",n.coleccionCerraduras))},dependencies:[d.NgForOf,o.IonButton,o.IonButtons,o.IonContent,o.IonGrid,o.IonHeader,o.IonIcon,o.IonItem,o.IonItemOption,o.IonItemOptions,o.IonItemSliding,o.IonList,o.IonRow,o.IonTitle,o.IonToolbar]}),r})();var x=s(3646);const D=[{path:"",component:(()=>{class r{constructor(t){this.modalCtrl=t,this.control=!0}ngOnInit(){"admin"===localStorage.getItem("rol")&&(this.control=!1)}apartamentos(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:O})).present(),console.log("presenta apartamento")})}cerraduras(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:P})).present(),console.log("presenta cerraduras")})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.ModalController))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-settings"]],decls:11,vars:3,consts:[["titulo","Configuraci\xf3n"],[1,"ion-padding",3,"fullscreen"],["fixed",""],["detail","true","detailIcon","arrow-redo-outline",3,"disabled","click"],["slot","start","size","large","color","sucecess","name","storefront-outline"],["slot","start","size","large","color","success","name","key-outline"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-header",0),e.\u0275\u0275elementStart(1,"ion-content",1)(2,"ion-list",2)(3,"ion-item",3),e.\u0275\u0275listener("click",function(){return n.apartamentos()}),e.\u0275\u0275elementStart(4,"ion-label"),e.\u0275\u0275text(5,"Apartamentos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"ion-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"ion-item",3),e.\u0275\u0275listener("click",function(){return n.cerraduras()}),e.\u0275\u0275element(8,"ion-icon",5),e.\u0275\u0275elementStart(9,"ion-label"),e.\u0275\u0275text(10,"Cerraduras"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("fullscreen",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.control),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.control))},dependencies:[o.IonContent,o.IonIcon,o.IonItem,o.IonLabel,o.IonList,x.G],styles:["ion-item[_ngcontent-%COMP%]::part(native){background:#cef0f4;color:#05e818;border-color:#fff;border-style:dashed;border-width:2px;border-radius:20px}ion-item[_ngcontent-%COMP%]::part(detail-icon){color:#05e818;opacity:1;font-size:20px}"]}),r})()}];let z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.Bz.forChild(D),c.Bz]}),r})();var F=s(5642);let G=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.CommonModule,m.FormsModule,o.IonicModule,z,F.K]}),r})()}}]);